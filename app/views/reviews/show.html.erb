<!-- <% if flash[:notice] %>
   <div><font color="red">Review failed because: <%= flash[:notice] %></font></div>
 <% end %>

<h1>Here is the review for <%= @review.movie.title %></h1>

<h3>Title: <%= @review.title %>
<p>Content: <%= @review.content %>
<p>Rating: <%= @review.rating %>
<p>Author: <%= @review.user.name %>
  <% if is_logged_in? && current_user.id == @review.user.id %>
  <%= link_to 'click here to edit this review', edit_movie_review_path(@review.movie_id, @review.id) %>
  <% end %> -->


  <!-- ####### BELOW IS A WORK IN PROGRESS ####### -->
  <h1> Check out this review! </h1>

  <h1 class="movieTitle">Movie Title: <%= @review.movie.title %></h1>
  <h3 class="reviewTitle">Review Title: <%= @review.title %></h3>
  <p class="reviewContent">Review Content: <%= @review.content %></p>
  <p class="reviewRating">Rating: <%= @review.rating %></p>

  <script type="text/javascript" charset="utf-8">
  $(function () {
    $(".js-next").on("click", function() {
      var nextId = parseInt($(".js-next").attr("data-id")) + 1;
      $.get("/reviews/" + nextId + ".json", function(data) {
        
        $(".movieTitle").html("Movie Title: " + data["movie"]["title"]);
        $(".reviewTitle").html("Review Title: " + data["title"]);
        $(".reviewContent").html("Review Content: " + data["content"]);
        $(".reviewRating").html("Rating: " + data["rating"]);
        // re-set the id to current on the link
        $(".js-next").attr("data-id", data["id"]);
      });
      return false
    });
  });
  </script>

  <a href="#" class="js-next" data-id="<%=@review.id%>">Next Review</a>
